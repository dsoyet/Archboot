# Created by Tobias Powalowski <tpowa@archlinux.org>

run_hook ()
{

  # check for uvesafb
  if [ "$(echo $uvesafb | grep "[0-9]*x[0-9]*-[0-9]*")" ]; then
    msg ":: Switching to uvesafb mode..."
    sed -i -e "s#options.*#options uvesafb mode_option=$uvesafb scroll=ywrap#g" /etc/modprobe.d/uvesafb.conf
    fbmodule="uvesafb"
  fi
  # load correct module
  if ! [ "$fbmodule" = "" -a "$fbmodule" = "y" ]; then
    msg ":: Loading ${fbmodule}..."
    modprobe -aq $fbmodule >/dev/null 2>&1
  fi
}
