# Created by Tobias Powalowski <tpowa@archlinux.org>

run_hook ()
{
    ### remove firmware, took in by initcpio generation!
    rm /lib/firmware/ipw2100* >/dev/null 2>&1
    rm /lib/firmware/ipw2200* >/dev/null 2>&1
    rm /lib/firmware/iwlwifi* >/dev/null 2>&1
    if grep -qw intel-wireless /proc/cmdline; then
        msg "ARCH_INTEL_WIRELESS:"
        msg "--------------------"
        msg "You have ACCEPTED the firmware licenses:"
        msg "/usr/share/licenses/ipw2100-fw/LICENSE"
        msg "/usr/share/licenses/ipw2200-fw/LICENSE"
        msg "/usr/share/licenses/iwlwifi-1000-ucode/LICENSE"
        msg "/usr/share/licenses/iwlwifi-3945-ucode/LICENSE"
        msg "/usr/share/licenses/iwlwifi-4965-ucode/LICENSE"
        msg "/usr/share/licenses/iwlwifi-5000-ucode/LICENSE"
        msg "/usr/share/licenses/iwlwifi-5150-ucode/LICENSE"
        msg "/usr/share/licenses/iwlwifi-6000-ucode/LICENSE"
        msg "Intel wireless drivers are now available."
        ! [ -d /lib/firmware/ ] && mkdir -p /lib/firmware
        mv /intel-firmware/* /lib/firmware/
    fi
}
