# vim: set ft=sh:
run_hook ()
{
    # mount tmpfs, else autodetection will fail!
    mount -n -t tmpfs udev /dev -o mode=0755,size=10M,noexec
    #create missing nodes
    mknod /dev/null c 1 3
    mknod /dev/zero c 1 5
    mknod /dev/console c 5 1
    # make extra nodes
    ln -sf /proc/self/fd /dev/fd
    ln -sf /proc/self/fd/0 /dev/stdin
    ln -sf /proc/self/fd/1 /dev/stdout
    ln -sf /proc/self/fd/2 /dev/stderr
    ln -sf /proc/kcore /dev/core
    echo > /proc/sys/kernel/hotplug
    msg -n ":: Starting udevd..."
    /sbin/udevd --daemon
    msg "done."
}
