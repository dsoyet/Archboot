# Created by Tobias Powalowski <tpowa@archlinux.org>

build ()
{
    MODULES=""
    BINARIES="/bin/grub-bin2h /bin/grub-editenv /bin/grub-fstest /bin/grub-menulst2cfg /bin/grub-mkfont /bin/grub-mkimage /bin/grub-mklayout /bin/grub-mkpasswd-pbkdf2 /bin/grub-mkrelpath /sbin/grub-mkdevicemap /sbin/grub-probe /sbin/grub-setup /bin/grub-kbdcomp /bin/grub-mkrescue /sbin/grub-mkconfig /sbin/grub-mknetdir /sbin/grub-reboot /sbin/grub-set-default /sbin/grub_bios-install /sbin/grub_efi_i386-install /sbin/grub_efi_x86_64-install /usr/sbin/efibootmgr"
    FILES=""
    
    # add config files
    add_file "/boot/grub/grub.cfg.example"
    for i in $(find /usr/share/archboot/grub2/etc/* ! -type d); do
        add_file "$i" "/etc/$(basename $i)"
    done

    for i in $(find /usr/lib/grub ! -type d); do
        add_file "$i"
    done

    for i in $(find /usr/share/grub ! -type d); do
        add_file "$i"
    done
}

help ()
{
cat<<HELPEOF
  This hook includes grub2 on an arch boot image.
HELPEOF
}
