# Created by Tobias Powalowski <tpowa@archlinux.org>

build ()
{
    MODULES=""
    BINARIES="/sbin/udevd /usr/bin/logger"
    FILES="/etc/udev/udev.conf"
    SCRIPT="arch_udev"
    add_file /lib/modprobe.d/framebuffer_blacklist.conf /etc/modprobe.d/framebuffer_blacklist.conf
    add_file /etc/modprobe.d/usb-load-ehci-first.conf
    add_binary /lib/udev/ata_id
    add_binary /lib/udev/cdrom_id
    add_binary /lib/udev/collect
    add_file /lib/udev/findkeyboards
    add_binary /lib/udev/firmware
    add_binary /lib/udev/keymap
    add_binary /lib/udev/input_id
    add_file /lib/udev/keyboard-force-release.sh
    add_binary /lib/udev/path_id
    add_binary /lib/udev/pci-db
    add_binary /lib/udev/scsi_id
    add_binary /lib/udev/udev-acl
    add_binary /lib/udev/usb-db
    add_binary /lib/udev/usb_id
    add_binary /lib/udev/v4l_id
    # add rule files
    for i in 50-firmware 50-udev-default \
             60-cdrom_id 60-persistent-alsa 60-persistent-input 60-persistent-serial \
             60-persistent-storage-tape 60-persistent-storage 60-persistent-v4l \
             75-net-description 75-tty-description 78-sound-card \
             80-drivers 81-arch 95-keyboard-force-release 95-keymap 95-udev-late; do
    	     add_file /lib/udev/rules.d/$i.rules
    done
    # add keymap files
    for i in /lib/udev/keymaps/*; do
        [ -f $i ] && add_file "$i"
    done
    for i in /lib/udev/keymaps/*/*; do
        [ -f $i ] && add_file "$i"
    done
}

help ()
{
cat <<HELPEOF
  This hook includes udevd and rule files.
HELPEOF
}
