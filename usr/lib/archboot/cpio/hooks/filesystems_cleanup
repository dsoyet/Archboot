#!/usr/bin/env bash
# SPDX-License-Identifier: GPL-3.0-or-later
# Created by Tobias Powalowski <tpowa@archlinux.org>

_run ()
{
    ! grep -qw 'archboot' /etc/hostname && return
    _install_files
    rm /usr/bin/{mkswap,badblocks,debugfs,dumpe2fs,e2{freefrag,fsck,image,label,mmpstatus,\
scrub,scrub_all,undo},\
findfs,fsck,logsave,resize2fs,chattr,lsattr,filefrag,\
jfs_{debugfs,fsck,fscklog,logdump,mkfs,tune},\
xfs_{admin,bmap,copy,db,estimate,freeze,fsr,growfs,info,io,logprint,\
metadump,mdrestore,mkfile,ncheck,quota,repair,rtcp,spaceman},\
mkdosfs,dosfsck,fatlabel,mount.smb3,mount.cifs,tune2fs,,mke2fs,wipefs,\
btrfs,btrfsck,btrfs-{find-root,image,map-logical,select-super},btrfstune,\
mount.nilfs2,nilfs_cleanerd,cifs.{idmap,upcall},cifscreds,getcifsacl,\
setcifsacl,umount.nilfs2,chcp,dumpseg,lscp,lssu,mkcp,rmcp,\
fsfreeze,fstrim,tune.exfat,exfatlabel,dump.exfat,fatresize,nvme,dosfslabel,\
e4{crypt,defrag},defrag.f2fs,dump.f2fs,f2fs{_io,crypt},fibmap.f2fs,\
parse.f2fs,resize.f2fs,sload.f2fs,blkmapd,nfsconf,nfsdcld,\
nfsidmap,nfsv4.exportd,nilfs-{clean,resize,tune},gpart,compile_et,mk_cmds,\
mkfs.{bfs,cramfs,exfat,ext2,ext3,ext4,f2fs,jfs,minix,msdos,nilfs2,vfat,xfs},\
fsck.{btrfs,cramfs,exfat,ext2,ext3,ext4,f2fs,jfs,minix,msdos,vfat,xfs}}
}

# vim: set ft=sh ts=4 sw=4 et:
