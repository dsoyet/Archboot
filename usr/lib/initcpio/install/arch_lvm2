# Created by Tobias Powalowski <tpowa@archlinux.org>

build ()
{
    MODULES=""
    BINARIES="/sbin/lvm /sbin/fsadm /sbin/lvmdump /sbin/vgcfgbackup /sbin/vgcfgrestore /sbin/vgchange /sbin/vgck /sbin/vgconvert /sbin/vgcreate /sbin/vgdisplay /sbin/vgexport /sbin/vgextend /sbin/vgimport /sbin/vgmerge /sbin/vgmknodes /sbin/vgreduce /sbin/vgremove /sbin/vgrename /sbin/vgs /sbin/vgscan /sbin/vgsplit /sbin/pvchange /sbin/pvck /sbin/pvcreate /sbin/pvdisplay /sbin/pvmove /sbin/pvremove /sbin/pvresize /sbin/pvs /sbin/pvscan /sbin/lvchange /sbin/lvconvert /sbin/lvcreate /sbin/lvdisplay /sbin/lvextend /sbin/lvmchange /sbin/lvmdiskscan /sbin/lvmsadc /sbin/lvmsar /sbin/lvreduce /sbin/lvremove /sbin/lvrename /sbin/lvresize /sbin/lvs /sbin/lvscan"
    FILES=""
    SCRIPT="arch_lvm2"
    add_file "/lib/udev/rules.d/11-dm-lvm.rules"
    add_dir "/etc/lvm/backup/"
    add_dir "/etc/lvm/archive/"
    add_file "/usr/share/archboot/lvm2/etc/lvm/lvm.conf" "/etc/lvm/lvm.conf"

}

help ()
{
cat<<HELPEOF
  This hook loads the necessary modules for an LVM2 root device 
  on an arch boot image.
  It depends on arch_devicemapper hook.
HELPEOF
}
