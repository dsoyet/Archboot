#!/usr/bin/env bash
# SPDX-License-Identifier: GPL-2.0-only
# Created by Tobias Powalowski <tpowa@archlinux.org>

build ()
{
    add_all_modules -f 'broadcom/bnx2x|netronome|mellanox|cavium|brocade|chelsio|cisco|qlogic|qualcomm|_cs|b44' '/drivers/net/ethernet|/net/ipv4|/net/ipv6'
    map add_binary ip getent ping wget
    # start dhcpcd on startup
    add_file "/usr/share/archboot/net/etc/systemd/network/10-wired-auto-dhcp.network" "/etc/systemd/network/10-wired-auto-dhcp.network"
    add_file /etc/wgetrc
}

help ()
{
cat<<HELPEOF
  This hook includes the basic network on an archboot image.
HELPEOF
}
# vim: set ft=sh ts=4 sw=4 et:
